name: Move issue to correct status on commit

on:
  push:
    branches:
      - '**'

permissions:
  contents: write
  packages: write

jobs:

  check-commit:
    name: Vérification
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3

      - name: Extract issue references
        id: extract_refs
        run: |
          # Récupérer le message du commit
          COMMIT_MSG="${{ github.event.head_commit.message }}"
          
          # Extraire les numéros d'issues (format: #123)
          ISSUE_NUMBERS=$(echo "$COMMIT_MSG" | grep -oP '#\K\d+')
          
          # Afficher les numéros trouvés
          echo "Numéros d'issues trouvés: $ISSUE_NUMBERS"
          
          # Définir la sortie pour les étapes suivantes
          echo "issue_numbers=$ISSUE_NUMBERS" >> $GITHUB_OUTPUT
          
        
